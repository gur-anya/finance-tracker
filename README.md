# Трекер финансов
Личный R&D-проект. База проекта была разработана в рамках Интенсива Java от Y_LAB University.

## О проекте
Личный финансовый трекер для управления финансовыми транзакциями: доходами и расходами. Позволяет создавать, редактировать и удалять транзакции, просматривать финансовую аналитику и статистику, устанавливать бюджет и цель (накопления).

---
## Работа на интенсиве

### Домашнее задание №1

https://github.com/gur-anya/finance-tracker/pull/1

Разработка консольного приложения на основе POJO.

**Функционал**:
- Регистрация, вход, редактирование и удаление аккаунта
- CRUD-операции для финансовых транзакций
- Аналитика: подсчёт баланса, доходов и расходов за период, анализ расходов по категориям
- Установка и отслеживание бюджета и целей
- Генерация финансового отчёта

**Тестирование**:
- Покрытие кода unit-тестами на 75%

### Домашнее задание №2
https://github.com/gur-anya/finance-tracker/pull/2

Интеграция с базой данных PostgreSQL.

**Функционал**:
- Подключение БД PostgreSQL
- Реализация взаимодействия с БД через JDBC-репозиторий
- Создание миграций Liquibase
- Конфигурация подключения к БД и миграций через Java конфиг-файл
- Развертывание в docker-контейнере с логином, паролем и БД, отличными от прописанных в образе по умолчанию

**Тестирование**:
- Написание тестов с использованием test-containers

### Домашнее задание №3
https://github.com/gur-anya/finance-tracker/pull/3

Переход к сервлетам.

**Функционал**:
- Развертывание приложения на сервисе Tomcat
- Работа с JSON через Jackson
- Внедрение DTO с валидацией
- Использование MapStruct для маппинга между моделями и DTO
- Реализация аудита действий пользователя и логирование логина с замером времени выполнения при помощи AspectJ
- Разработка базового фронтэнда на JSP

**Тестирование**:
- Покрытие сервлетов тестами

### Домашнее задание №4
https://github.com/gur-anya/finance-tracker/pull/4

Миграция на Spring Framework.

**Функционал**:
- Замена кастомных конфигурационных файлов на application.yaml
- Написание документации на API с использованием Swagger
- Переход с AspectJ на Spring AOP

**Тестирование**:
- Написание тестов на контроллеры с WebMVC.

### Домашнее задание №5
https://github.com/gur-anya/finance-tracker/pull/5

Миграция на Spring Boot 3.2.0.

**Функционал**:
- Вынесение аспектов аудита и логирования в кастомные Spring Boot стартеры
- Внедрение автоматического подключения для аспекта аудита
- Реализация подключения через аннотацию @EnableLogging для аспекта логирования

**Тестирование**:
- Обновление тестов - переход на Spring Boot Test.

---

## Дальнейшие планы по развитию
- ✅ Переход к stateless-серверу
- ✅ Внедрение JWT для аутентификации пользователя
- ✅ Разработка фронтэнда с использованием React
- ✅ Миграция на Spring Data JPA
- ✅ Доработка роли администратора (возможность удалять и блокировать пользователей)
- ✅ Внедрение базового кэширования
- ✅ Написание документации API для обновленных контроллеров
- ✅ Добавление фильтрации транзакций, пагинации пользователей (для администратора) и транзакций
- ✅ Переход на Redis для хранения черного списка токенов
- ✅ Разработка сервиса для отправки уведомлений
- ✅ Настройка взаимодействия основного сервиса и сервиса по отправки уведомлений через Apache Kafka
- ✅ Добавление Dead Letter Queue
- ✅ Покрытие основного сервиса и сервиса отправки уведомлений кода тестами (юнит, интеграционные)
- ✅ Настройка docker-compose для соместной работы бэкенда, фронтенда, сервиса по отправке email-уведомлений
- ❌ Расширение функционала по отправке уведомлений: рассылка email для подтверждения почты при регистрации, для сброса пароля, рассылка уведомлений о превышении баланса
- ❌ Разработка фронтэнд-части для роли администратора

---

## Запуск приложения
Перед запуском необходимо создать файл **.env** в корне проекта по шаблону .env.example, заполнив его собственными значениями секретов.

❗ ВАЖНО: для проверки работспособности сервиса отправки уведомлений необходимо заполнить поля NOTIFIER_ в .env.example значениями собственного SMTP-сервера.

Для запуска выполняется команда
```
docker-compose up --build
```
, после выполнения которой фронтэнд-часть приложения запускается на порту 5137.

### Тестовые данные для входа
#### Пользователь:
Email:
```
test@example.com
```
Пароль:
```
TestPass123!
```
